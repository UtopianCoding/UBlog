<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ld.poetry.dao.FriendCommentMapper">
    <sql id="Base_Column_List">
        id,

        parent_comment_id,
        `type`,
        user_id,
        parent_user_id,
        like_count,
        comment_content,
        comment_info,
        floor_comment_id,
        create_time,
        systemversion,
        Browser,
        `name`,
        avatar
    </sql>
    <resultMap id="BaseResultMap" type="com.ld.poetry.entity.FriendComment">
        <result column="id" property="id"/>
        <result column="parent_comment_id" property="parentCommentId"/>
        <result column="type" property="type"/>
        <result column="user_id" property="userId"/>
        <result column="parent_user_id" property="parentUserId"/>
        <result column="like_count" property="likeCount"/>
        <result column="comment_content" property="commentContent"/>
        <result column="comment_info" property="commentInfo"/>
        <result column="floor_comment_id" property="floorCommentId"/>
        <result column="create_time" property="createTime"/>
        <result column="systemversion" property="systemversion"/>
        <result column="Browser" property="Browser"/>
        <result column="name" property="name"/>
        <result column="avatar" property="avatar"/>
    </resultMap>

<!--auto generated by MybatisCodeHelper on 2024-09-07-->
    <select id="findAll" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from FriendComment
    </select>

    <select id="save" >
        insert into FriendComment
        ( parent_comment_id, `type`, user_id, parent_user_id, like_count, comment_content, comment_info, floor_comment_id, create_time, systemversion, Browser, `name`, avatar)
        values
        ( #{parentCommentId}, #{type}, #{userId}, #{parentUserId}, #{likeCount}, #{commentContent}, #{commentInfo}, #{floorCommentId}, #{createTime}, #{systemversion}, #{Browser}, #{name}, #{avatar})
    </select>

    <select id="getFriendCommentCount" resultType="java.lang.Integer">
        select count(1) as total from FriendComment
    </select>

<!--auto generated by MybatisCodeHelper on 2024-09-07-->
    <select id="findAllByParentCommentIdOrderByCreateTime" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from FriendComment
        where parent_comment_id=#{parentCommentId} order by create_time asc
    </select>

<!--auto generated by MybatisCodeHelper on 2024-09-07-->
    <select id="findAllByFloorCommentIdOrderByCreateTime" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from FriendComment
        where parent_comment_id=#{floorCommentId} order by create_time asc
    </select>
</mapper>
